<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Campañas Programáticas</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="favicon.ico">
</head>
<body>
    <div class="container">
        <h1>Simulador de Campañas Programáticas</h1>
        <div class="layout">
        <div class="controls">
        <div id="estimatedAudienceSizeContainer">
            <p>Estimated Targetable Audience: <span id="estimatedAudienceDisplay">N/A</span> <span id="audienceSizeChangeIndicator"></span></p>
        </div>

        <div id="totalAffinityContainer">
            <p>Total Estimated Affinity: <span id="totalAffinityDisplay">N/A</span></p>
        </div>

        <form id="campaignForm">
            <div class="form-group">
                <label for="marca" class="required">Selecciona una Marca:</label>
                <select id="marca" name="marca" required>
                    <option value="">Cargando marcas...</option>
                </select>
            </div>

            <div class="form-group" id="productSelectionContainer" style="display:none;">
                <label for="productos">Selecciona Productos (opcional):</label>
                <select id="productos" name="productos" multiple disabled>
                    <option value="" disabled>Selecciona una marca primero...</option>
                </select>
            </div>

            <div class="form-group">
                <label for="audiencia" class="required">Selecciona una Audiencia:</label>
                <select id="audiencia" name="audiencia" required disabled>
                    <option value="">Cargando audiencias...</option>
                </select>
                <div id="audienceDescriptionContainer">
                    <p id="audienceDescriptionDisplay" class="audience-description-text">Select an audience to see its description.</p>
                </div>
            </div>

            <div class="form-group">
                <label for="campaignGoal" class="required">Objetivo de la Campaña:</label>
                <select id="campaignGoal" name="campaignGoal" required disabled>
                    <option value="">Cargando objetivos...</option>
                </select>
            </div>

            <div class="form-group">
                <label for="interesesCheckboxContainer">Selecciona Intereses (opcional):</label>
                <div id="interesesCheckboxContainer" class="checkbox-container disabled-selection-area">
                    <!-- Checkboxes will be populated here by JavaScript -->
                </div>
            </div>

            <div class="form-group">
                <label for="presupuesto" class="required">Inversión por día (COP): <span id="presupuestoValueDisplay">100000</span></label>
                <input type="range" id="presupuesto" name="presupuesto" min="10000" max="5000000" step="1000" value="100000" required disabled>
            </div>

            <div class="form-group">
                <label for="fechaInicio" class="required">Fecha de inicio:</label>
                <input type="date" id="fechaInicio" name="fechaInicio" required disabled>
            </div>

            <div class="form-group">
                <label for="fechaFin" class="required">Fecha de fin:</label>
                <input type="date" id="fechaFin" name="fechaFin" required disabled>
            </div>

            <div id="campaignSummaryContainer">
                <h4>Resumen de Campaña Estimado:</h4>
                <p>Duración de la campaña: <span id="campaignDurationDisplay">N/A</span> días</p>
                <p>Presupuesto total estimado: <span id="totalCampaignBudgetDisplay">N/A</span> COP</p>
            </div>

            <button type="submit" class="btn btn-primary">Simular Campaña</button>
            <button type="button" id="resetFormBtn" class="btn btn-secondary">Limpiar Formulario</button>
        </form>
        </div>
        <div class="results-pane">
        <div id="resultsContainer" class="results-container" style="display:none;">
            <h2>Resultados de la Simulación</h2>
            <div class="summary">
                <p><strong>Marca:</strong> <span id="resMarca"></span></p>
                <p><strong>Audiencia:</strong> <span id="resAudiencia"></span></p>
                <p><strong>Objetivo de Campaña:</strong> <span id="resCampaignGoal"></span></p>
            </div>

            <div class="metrics-dashboard">
                <div class="metric-card" id="scoreCard">
                    <div class="metric-title">Puntuación</div>
                    <div class="metric-circle"><span id="resPuntuacion"></span></div>
                </div>
                <div class="metric-card" id="affinityCard">
                    <div class="metric-title">Afinidad</div>
                    <div class="metric-circle"><span id="resAfinidad"></span></div>
                </div>
                <div class="metric-card" id="impressionsCard">
                    <div class="metric-title">Impresiones</div>
                    <div class="metric-bar"><div class="metric-bar-fill" id="impressionsFill"></div></div>
                    <div class="metric-number" id="resImpresiones"></div>
                </div>
                <div class="metric-card" id="ctrCard">
                    <div class="metric-title">CTR</div>
                    <div class="metric-bar"><div class="metric-bar-fill" id="ctrFill"></div></div>
                    <div class="metric-number"><span id="resCTR"></span>%</div>
                </div>
                <div class="metric-card" id="budgetCard">
                    <div class="metric-title">Presupuesto Gastado</div>
                    <div class="metric-bar"><div class="metric-bar-fill" id="budgetFill"></div></div>
                    <div class="metric-number" id="resPresupuestoGastado"></div>
                </div>
            </div>

            <div id="detailedFeedbackSection" style="display:none; margin-top: 15px;">
                <h4>Sugerencias y Comentarios Detallados:</h4>
                <ul id="feedbackList" class="feedback-list">
                    <!-- Feedback messages will be populated here by JavaScript -->
                </ul>
            </div>
            <p><em><span id="resMensaje"></span></em></p>
        </div>
        </div>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
